<div "vmart-search">
  <if !empty($init)>
    <? // Empty block. ?>
  <elseif !empty($hasResults)>
    <div ${ !!$skuGoods } "vmart-search-source">
      <h2>"vanemart::search.results.headers.sku"</h2>
      $=rows $skuGoods
      <include vanemart::block.group.index>
    </enddiv>

    <div ${ !empty($results['orders']) } "vmart-search-source sm-list">
      <h2>"vanemart::search.results.headers.orders"</h2>

      <each ${ $results['orders'] }>
        $=id        $item->id
        $=created   strtotime($item->created_at)
        $=created   HLEx::time(date('d.m.Y', $created), $created, true)

        <p "res-item">
          <a "{ $item->url() }">
            {= htmlLang('order.index.item_title', compact('id', 'created'), false) }
          </a>
          â€” { $item->name }
        </p>
      </each>
    </enddiv>

    <div ${ !!$groupsTree } "vmart-search-source">
      <h2>"vanemart::search.results.headers.groups"</h2>
      <div "vmart-toc">
        $=list $groupsTree
        <include vanemart::block.search.subgroups>
      </div>
    </enddiv>

    <div ${ !!$goods } "vmart-search-source goods">
      <h2>"vanemart::search.results.headers.goods"</h2>
      $=rows $goods
      <include vanemart::block.search.sectionized>
    </enddiv>
  <elseif !empty($messageForm)>
    <include vanemart::block.search.message>
  <else>
    <p class=empty><span>"vanemart::search.results.empty"</span></p>
  </if>
</div>